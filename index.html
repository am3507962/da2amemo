<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Shopping Website</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
        }

        header {
            background-color: #333;
            color: #fff;
            text-align: center;
            padding: 20px 0;
        }

        h1, h2, h3 {
            margin: 0;
        }

        main {
            padding: 20px;
        }

        section {
            margin-bottom: 30px;
        }

        button {
            background-color: #333;
            color: #fff;
            border: none;
            padding: 8px 12px;
            cursor: pointer;
        }

        .product {
            border: 1px solid #ccc;
            padding: 10px;
            margin-bottom: 10px;
        }

        .product button {
            margin-top: 5px;
        }

        #cart {
            border: 1px solid #ccc;
            padding: 20px;
        }

        .cart-item {
            border: 1px solid #ccc;
            padding: 10px;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>

    <header>
        <h1>My Shopping Website</h1>
        <nav>
            <button onclick="showAddProductForm()">Add Product</button>
        </nav>
    </header>

    <main>
        <section id="products">
            <!-- Products will be dynamically added here -->
        </section>

        <section id="addProduct" style="display: none;">
            <h2>Add a Product</h2>
            <form id="productForm">
                <input type="text" placeholder="Product Name" id="productName">
                <input type="number" placeholder="Price" id="productPrice">
                <input type="password" placeholder="Enter Passcode to Add Product" id="passcode">
                <button type="button" onclick="addProduct()">Add Product</button>
            </form>
        </section>

        <section id="cart">
            <h2>Shopping Cart</h2>
            <div id="cartItems">
                <!-- Cart items will be displayed here -->
            </div>
            <p>Total: $<span id="totalPrice">0.00</span></p>
            <form id="userInfoForm" onsubmit="sendEmail(event)">
                <input type="text" placeholder="Your Name" id="userName">
                <input type="tel" placeholder="Your Phone Number" id="userPhone">
                <button type="submit">Buy Cart</button>
            </form>
        </section>
    </main>

    <script>
        let products = [];
        let cart = [];

        function showAddProductForm() {
            const addProductSection = document.getElementById('addProduct');
            addProductSection.style.display = 'block';
        }

        function addProduct() {
            const passcode = document.getElementById('passcode').value;

            if (passcode !== '1223334444') {
                alert('Incorrect passcode. Product not added.');
                return;
            }

            const productName = document.getElementById('productName').value;
            const productPrice = parseFloat(document.getElementById('productPrice').value);

            const newProduct = {
                name: productName,
                price: productPrice
            };

            products.push(newProduct);
            displayProducts();
            clearForm();
        }

        function displayProducts() {
            const productsSection = document.getElementById('products');
            productsSection.innerHTML = '';

            products.forEach((product, index) => {
                const productElement = document.createElement('div');
                productElement.classList.add('product');
                productElement.innerHTML = `<h3>${product.name}</h3><p>$${product.price}</p><button onclick="addToCart(${index})">Add to Cart</button>`;
                productsSection.appendChild(productElement);
            });
        }

        function addToCart(index) {
            const selectedProduct = products[index];
            cart.push(selectedProduct);
            displayCart();
        }

        function displayCart() {
            const cartItemsDiv = document.getElementById('cartItems');
            cartItemsDiv.innerHTML = '';

            let totalPrice = 0;

            cart.forEach((cartItem) => {
                const cartItemElement = document.createElement('div');
                cartItemElement.classList.add('cart-item');
                cartItemElement.innerHTML = `<h3>${cartItem.name}</h3><p>$${cartItem.price}</p>`;
                cartItemsDiv.appendChild(cartItemElement);

                totalPrice += cartItem.price;
            });

            document.getElementById('totalPrice').textContent = totalPrice.toFixed(2);
        }

        function clearForm() {
            document.getElementById('productName').value = '';
            document.getElementById('productPrice').value = '';
            document.getElementById('passcode').value = '';
        }

        function sendEmail(event) {
            event.preventDefault();

            const userEmail = 'am3507962@gmail.com';
            const userName = document.getElementById('userName').value;
            const userPhone = document.getElementById('userPhone').value;
            const cartInfo = cart.map(item => `${item.name} - $${item.price}`).join('\n');
            const totalPrice = document.getElementById('totalPrice').textContent;

            const emailSubject = `Purchase Details from ${userName}`;
            const emailBody = `Customer Name: ${userName}\nPhone Number: ${userPhone}\n\nCart Items:\n${cartInfo}\nTotal Price: $${totalPrice}`;

            const mailtoLink = `mailto:${userEmail}?subject=${emailSubject}&body=${emailBody}`;
            window.location.href = mailtoLink;

            cart = [];
            displayCart();
            document.getElementById('userName').value = '';
            document.getElementById('userPhone').value = '';
        }

        // Initial display of products
        displayProducts();
    </script>
</body>
</html>
